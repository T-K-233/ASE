<mujoco model="berkeley_humanoid">
  <statistic extent="2" center="0 0 1"/>
  <option timestep="0.00555"/>
  <default>
    <motor ctrlrange="-1 1" ctrllimited="true" forcerange="-25 25" forcelimited="true"/>
    <default class="body">
      <geom type="capsule" condim="1" friction="1.0 0.05 0.05" solimp=".9 .99 .003" solref=".015 1"/>
      <joint type="hinge" damping="0.1" stiffness="5" armature=".007" limited="true" solimplimit="0 .99 .01"/>
      <site size=".04" group="3"/>
      <default class="force-torque">
        <site type="box" size=".01 .01 .02" rgba="1 0 0 1" />
      </default>
      <default class="touch">
        <site type="capsule" rgba="0 0 1 .3"/>
      </default>
    </default>
  </default>

  <worldbody>
    <body name="base" pos="0 0 1" childclass="body">
      <!-- <freejoint name="root"/> -->
      <site name="root" class="force-torque"/>
      <geom name="base" type="sphere" pos="0 0 0" size=".08" mass="1"/>
      <site name="base" class="touch" type="sphere" pos="0 0 0.07" size="0.091"/>
      <site name="upper_waist" class="touch" type="sphere" pos="0 0 0.205" size="0.071"/>

      <body name="spine" pos="0 0 0.2">
        <light name="top" pos="0 0 2" mode="trackcom"/>
        <camera name="back" pos="-3 0 1" xyaxes="0 -1 0 1 0 2" mode="trackcom"/>
        <camera name="side" pos="0 -3 1" xyaxes="1 0 0 0 1 2" mode="trackcom"/>
        <joint name="spine_x" pos="0 0 0" axis="1 0 0" range="-10 10" stiffness="50" damping="10" armature=".02"/>
        <joint name="spine_y" pos="0 0 0" axis="0 1 0" range="-10 10" stiffness="50" damping="10" armature=".02"/>
        <joint name="spine_z" pos="0 0 0" axis="0 0 1" range="-10 10" stiffness="50" damping="10" armature=".02"/>
        <geom name="spine" type="capsule" pos="0 0 0.06" size=".08 .08" mass="1.87"/>
        <site name="spine" class="touch" type="sphere" pos="0 0 0.12" size="0.111"/>
        <!-- 
          this mode limits the neck and spike dof to +-10 deg 
          also limits the torque to +-25 Nm
        -->

        <body name="head" pos="0 0 0.35">
          <joint name="head_x" axis="1 0 0" range="-10 10" stiffness="50" damping="10" armature=".02"/>
          <joint name="head_y" axis="0 1 0" range="-10 10" stiffness="50" damping="10" armature=".02"/>
          <joint name="head_z" axis="0 0 1" range="-10 10" stiffness="50" damping="10" armature=".02"/>
          <geom name="head" type="sphere" pos="0 0 0" size="0.1" mass="0.01"/>
          <site name="head" class="touch" pos="0 0 0.175" type="sphere" size="0.103"/>
          <camera name="egocentric" pos=".103 0 0.175" xyaxes="0 -1 0 .1 0 1" fovy="80"/>
        </body>

        <body name="upperarm_r" pos="0.0 -0.160 0.220000">
          <joint name="upperarm_r_x" axis="1 0 0" range="-180 45" stiffness="50" damping="10" armature=".02"/>
          <joint name="upperarm_r_y" axis="0 1 0" range="-180 60" stiffness="50" damping="10" armature=".02"/>
          <joint name="upperarm_r_z" axis="0 0 1"  range="-90 90" stiffness="50" damping="10" armature=".02"/>
          <geom name="upperarm_r" fromto="0 0 -0.05 0 0 -0.2" size=".045" mass="0.65"/>
          <site name="upperarm_r" class="touch" pos="0 0 -0.14" size="0.046 0.1" zaxis="0 0 1"/>

          <body name="lowerarm_r" pos="0 0 -0.272">
            <joint name="lowerarm_r_x" axis="0 1 0" range="-160 0" stiffness="50" damping="10" armature=".02"/>
            <geom name="lowerarm_r" fromto="0 0 -0.05 0 0 -0.15" size="0.04" mass="0.30"/>
            <site name="lowerarm_r" class="touch" pos="0 0 -0.12" size="0.041 0.0685" zaxis="0 1 0"/>

            <body name="hand_r" pos="0 0 -0.258947">
              <joint name="hand_r_x" axis="1 0 0" range="-90 90" stiffness="50" damping="10" armature=".02"/>
              <joint name="hand_r_y" axis="0 1 0" range="-90 90" stiffness="50" damping="10" armature=".02"/>
              <joint name="hand_r_z" axis="0 0 1"  range="-90 90" stiffness="50" damping="10" armature=".02"/>
              <geom name="hand_r" type="sphere" size=".04" mass="0.10"/>
              <site name="hand_r" class="touch" type="sphere" size=".041"/>

              <body name="sword" pos="0.74 0 0">
                <geom name="sword_hilt" fromto="-0.87 0 0 -0.64 0 0" size="0.023" mass="0.50"/>
                <geom name="sword_blade" type="box" pos="-0.34 0 0" size="0.34 0.01 0.035" mass="1.00"/>
              </body>
            </body>
          </body>
        </body>

        <body name="upperarm_l" pos="0.0 0.160 0.220000">
          <joint name="upperarm_l_x" axis="1 0 0" range="-45 180" stiffness="50" damping="10" armature=".02"/>
          <joint name="upperarm_l_y" axis="0 1 0" range="-180 60" stiffness="50" damping="10" armature=".02"/>
          <joint name="upperarm_l_z" axis="0 0 1"  range="-90 90" stiffness="50" damping="10" armature=".02"/>
          <geom name="upperarm_l" fromto="0 0 -0.05 0 0 -0.2" size="0.045" mass="0.65"/>
          <site name="upperarm_l" class="touch" pos="0 0 -0.14" size="0.046 0.1" zaxis="0 0 1"/>

          <body name="lowerarm_l" pos="0 0 -0.272">
            <joint name="left_elbow" axis="0 1 0" range="-160 0" stiffness="50" damping="10" armature=".02"/>
            <geom name="lowerarm_l" fromto="0 0 -0.05 0 0 -0.15" size="0.04" mass="0.30"/>
            <site name="lowerarm_l" class="touch" pos="0 0 -0.1" size="0.041 0.0685" zaxis="0 0 1"/>

            <body name="shield" pos="0 0.07 -0.12">
              <geom name="shield" type="cylinder" fromto="0 0 0 0 0.025 0" size="0.3" density="250"/>
            </body>
            
            <body name="hand_l" pos="0 0 -0.258947">
              <geom name="hand_l" type="sphere" size=".04" mass="0.10"/>
              <site name="hand_l" class="touch" type="sphere" size=".041"/>
            </body>
          </body>
        </body>
      </body>

      <body name="upperleg_r" pos="0 -0.135 0">
        <site name="upperleg_r" class="force-torque"/>
        <joint name="upperleg_r_x" axis="1 0 0" range="-60 15" stiffness="50" damping="10" armature=".02"/>
        <joint name="upperleg_r_y" axis="0 1 0" range="-140 60" stiffness="50" damping="10" armature=".02"/>
        <joint name="upperleg_r_z" axis="0 0 1" range="-60 35" stiffness="50" damping="10" armature=".02"/>
        <geom name="upperleg_r" fromto="0 0 -0.1 0 0 -0.32" size="0.055" mass="1.11"/>
        <site name="upperleg_r_touch" class="touch" pos="0 0 -0.21" size="0.056 0.301" zaxis="0 0 -1"/>

        <body name="lowerleg_r" pos="0 0 -0.400">
          <site name="lowerleg_r_x" class="force-torque" pos="0 0 0"/>
          <joint name="lowerleg_r_x" pos="0 0 0" axis="0 1 0" range="0 160" stiffness="50" damping="10" armature=".02"/>
          <geom name="lowerleg_r" fromto="0 0 -0.05 0 0 -0.35"  size=".05" mass="0.52"/>
          <site name="lowerleg_r_touch" class="touch" pos="0 0 -0.2" size="0.051 0.156" zaxis="0 0 -1"/>

          <body name="foot_r" pos="0 0 -0.380">
            <site name="foot_r" class="force-torque"/>
            <joint name="foot_r_x" pos="0 0 0" axis="1 0 0" range="-30 30" stiffness="50" damping="10" armature=".02"/>
            <joint name="foot_r_y" pos="0 0 0" axis="0 1 0" range="-55 55" stiffness="50" damping="10" armature=".02"/>
            <joint name="foot_r_z" pos="0 0 0" axis="0 0 1" range="-40 40" stiffness="50" damping="10" armature=".02"/>
            <geom name="foot_r" type="box" pos="0.045 0 -0.08" size="0.12 0.05 0.02" mass="2.6"/>
            <site name="foot_r_touch" class="touch" type="box" pos="0.045 0 -0.08" size="0.125 0.055 0.025"/>
          </body>
        </body>
      </body>

      <body name="upperleg_l" pos="0 0.135 0">
        <site name="upperleg_l" class="force-torque"/>
        <joint name="upperleg_l_x" axis="1 0 0" range="-15 60" stiffness="50" damping="10" armature=".02"/>
        <joint name="upperleg_l_y" axis="0 1 0" range="-140 60" stiffness="50" damping="10" armature=".02"/>
        <joint name="upperleg_l_z" axis="0 0 1" range="-35 60" stiffness="50" damping="10" armature=".02"/>
        <geom name="upperleg_l" fromto="0 0 -0.1 0 0 -0.32" size=".055" mass="1.11"/>
        <site name="upperleg_l_touch" class="touch" pos="0 0 -0.21" size="0.056 0.301" zaxis="0 0 -1"/>

        <body name="lowerleg_l" pos="0 0 -0.400">
          <site name="lowerleg_l_x" class="force-torque" pos="0 0 .02"/>
          <joint name="lowerleg_l_x" pos="0 0 0" axis="0 1 0" range="0 160" stiffness="50" damping="10" armature=".02"/>
          <geom name="lowerleg_l" fromto="0 0 -0.05 0 0 -0.35"  size=".05" mass="0.52"/>
          <site name="lowerleg_l_touch" class="touch" pos="0 0 -0.2" size="0.051 0.156" zaxis="0 0 -1"/>

          <body name="foot_l" pos="0 0 -0.380">
            <site name="foot_l" class="force-torque"/>
            <joint name="foot_l_x" pos="0 0 0" axis="1 0 0" range="-30 30" stiffness="50" damping="10" armature=".02"/>
            <joint name="foot_l_y" pos="0 0 0" axis="0 1 0" range="-55 55" stiffness="50" damping="10" armature=".02"/>
            <joint name="foot_l_z" pos="0 0 0" axis="0 0 1" range="-40 40" stiffness="50" damping="10" armature=".02"/>
            <geom name="foot_l" type="box" pos="0.045 0 -0.08" size="0.12 0.05 0.02" mass="2.6"/>
            <site name="foot_l_touch" class="touch" type="box" pos="0.045 0 -0.08" size="0.125 0.055 0.025"/>
          </body>
        </body>
      </body>
    </body>
  </worldbody>

  <actuator>
    <motor name="spine_x"       gear="1" 	joint="spine_x"/>
    <motor name="spine_y"       gear="1" 	joint="spine_y"/>
    <motor name="spine_z"       gear="1" 	joint="spine_z"/>
    <motor name="head_x"        gear="1" 	joint="head_x"/>
    <motor name="head_y"        gear="1" 	joint="head_y"/>
    <motor name="head_z"        gear="1" 	joint="head_z"/>
    <motor name="upperarm_r_x" 	gear="1" 	joint="upperarm_r_x"/>
    <motor name="upperarm_r_y" 	gear="1" 	joint="upperarm_r_y"/>
    <motor name="upperarm_r_z" 	gear="1" 	joint="upperarm_r_z"/>
    <motor name="lowerarm_r_x"  gear="1" 	joint="lowerarm_r_x"/>
    <motor name="hand_r_x" 	  	gear="1" 	joint="hand_r_x"/>
    <motor name="hand_r_y"    	gear="1" 	joint="hand_r_y"/>
    <motor name="hand_r_z"    	gear="1" 	joint="hand_r_z"/>
    <motor name="upperarm_l_x" 	gear="1" 	joint="upperarm_l_x"/>
    <motor name="upperarm_l_y" 	gear="1" 	joint="upperarm_l_y"/>
    <motor name="upperarm_l_z" 	gear="1" 	joint="upperarm_l_z"/>
    <motor name="left_elbow"    gear="1" 	joint="left_elbow"/>
    <motor name="upperleg_r_x"  gear="1" 	joint="upperleg_r_x"/>
    <motor name="upperleg_r_z"  gear="1" 	joint="upperleg_r_z"/>
    <motor name="upperleg_r_y"  gear="1" 	joint="upperleg_r_y"/>
    <motor name="lowerleg_r_x"  gear="1" 	joint="lowerleg_r_x"/>
    <motor name="foot_r_x"   	  gear="1" 	joint="foot_r_x"/>
    <motor name="foot_r_y"   	  gear="1" 	joint="foot_r_y"/>
    <motor name="foot_r_z"   	  gear="1" 	joint="foot_r_z"/>
    <motor name="upperleg_l_x"  gear="1" 	joint="upperleg_l_x"/>
    <motor name="upperleg_l_z"  gear="1" 	joint="upperleg_l_z"/>
    <motor name="upperleg_l_y"  gear="1" 	joint="upperleg_l_y"/>
    <motor name="lowerleg_l_x"  gear="1" 	joint="lowerleg_l_x"/>
    <motor name="foot_l_x"    	gear="1" 	joint="foot_l_x"/>
    <motor name="foot_l_y"    	gear="1" 	joint="foot_l_y"/>
    <motor name="foot_l_z"    	gear="1" 	joint="foot_l_z"/>
  </actuator>

  <sensor>
    <subtreelinvel name="base_subtreelinvel" body="base"/>
    <accelerometer name="root_accel"    site="root"/>
    <velocimeter name="root_vel"        site="root"/>
    <gyro name="root_gyro"              site="root"/>

    <force name="foot_l_force"          site="foot_l"/>
    <force name="foot_r_force"          site="foot_r"/>
    <force name="lowerleg_l_x_force"    site="lowerleg_l_x"/>
    <force name="lowerleg_r_x_force"    site="lowerleg_r_x"/>
    <force name="upperleg_l_force"      site="upperleg_l"/>
    <force name="upperleg_r_force"      site="upperleg_r"/>

    <torque name="foot_l_torque"        site="foot_l"/>
    <torque name="foot_r_torque"        site="foot_r"/>
    <torque name="lowerleg_l_x_torque"  site="lowerleg_l_x"/>
    <torque name="lowerleg_r_x_torque"  site="lowerleg_r_x"/>
    <torque name="upperleg_l_torque"    site="upperleg_l"/>
    <torque name="upperleg_r_torque"    site="upperleg_r"/>

    <touch name="base_touch"            site="base"/>

    <touch name="spine_touch"           site="spine"/>
    <touch name="head_touch"            site="head"/>
    <touch name="upperarm_r_touch"      site="upperarm_r"/>
    <touch name="lowerarm_r_touch"      site="lowerarm_r"/>
    <touch name="hand_r_touch"          site="hand_r"/>
    <touch name="upperarm_l_touch"      site="upperarm_l"/>
    <touch name="lowerarm_l_touch"      site="lowerarm_l"/>
    <touch name="hand_l_touch"          site="hand_l"/>
    <touch name="upperleg_r_touch"      site="upperleg_r_touch"/>
    <touch name="lowerleg_r_touch"      site="lowerleg_r_touch"/>
    <touch name="foot_r_touch"          site="foot_r_touch"/>
    <touch name="upperleg_l_touch"      site="upperleg_l_touch"/>
    <touch name="lowerleg_l_touch"      site="lowerleg_l_touch"/>
    <touch name="foot_l_touch"          site="foot_l_touch"/>
  </sensor>

</mujoco>
